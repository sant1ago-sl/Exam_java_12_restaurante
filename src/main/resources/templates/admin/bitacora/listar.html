<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout(~{::title}, ~{::content})}">
<head>
    <title>Bit치cora</title>
</head>
<body>
    <div th:fragment="content">
        <h2 class="mb-4"><i class="bi bi-journal-text"></i> Bit치cora del Sistema</h2>

        <div class="card">
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-sm table-hover">
                        <thead>
                            <tr>
                                <th>Fecha/Hora</th>
                                <th>Usuario</th>
                                <th>Acci칩n</th>
                                <th>Tabla</th>
                                <th>Operaci칩n</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="registro : ${registros}">
                                <td th:text="${#temporals.format(registro.fechaHora, 'dd/MM/yyyy HH:mm:ss')}"></td>
                                <td th:text="${registro.usuario != null ? registro.usuario.nombreUsuario : 'Sistema'}"></td>
                                <td th:text="${registro.accion}"></td>
                                <td th:text="${registro.tabla}"></td>
                                <td>
                                    <span th:if="${registro.operacion == 'CREATE'}" class="badge bg-success">CREATE</span>
                                    <span th:if="${registro.operacion == 'UPDATE'}" class="badge bg-warning">UPDATE</span>
                                    <span th:if="${registro.operacion == 'DELETE'}" class="badge bg-danger">DELETE</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
